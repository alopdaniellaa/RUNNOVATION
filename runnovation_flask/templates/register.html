{% extends "base.html" %}
{% block title %}Register - Runnovation{% endblock %}

{% block content %}
<div class="min-h-[70vh] flex items-center justify-center">
    <div class="w-full max-w-lg bg-[var(--bg-card)] border border-[#333] rounded-2xl px-8 py-7 shadow-xl">

        <h2 class="text-xl font-semibold mb-1">Create Account</h2>
        <p class="text-[12px] text-[var(--text-secondary)] mb-6">
            Join Runnovation today.
        </p>

        {# If Strava prefill was set, use those values to pre-fill inputs #}
        {% set pre = strava_prefill or {} %}

        <form method="post" class="space-y-4">
            <div>
                <label class="block text-xs text-[var(--text-secondary)] mb-1">Full Name</label>
                <input name="full_name" type="text" required
                       value="{{ pre.full_name if pre.full_name is defined else '' }}"
                       class="w-full bg-[#1A1A1A] border border-[#444] rounded-md px-3 py-2
                              focus:border-[var(--brand-orange)] outline-none">
            </div>
            <div>
                <label class="block text-xs text-[var(--text-secondary)] mb-1">Email</label>
                <input name="email" type="email" required
                       value="{{ pre.email if pre.email is defined else '' }}"
                       class="w-full bg-[#1A1A1A] border border-[#444] rounded-md px-3 py-2
                              focus:border-[var(--brand-orange)] outline-none">
            </div>

            <div>
                <label class="block text-xs text-[var(--text-secondary)] mb-1">Password</label>
                <input name="password" type="password" required
                       class="w-full bg-[#1A1A1A] border border-[#444] rounded-md px-3 py-2
                              focus:border-[var(--brand-orange)] outline-none">
            </div>
            <div>
                <label class="block text-xs text-[var(--text-secondary)] mb-1">Confirm Password</label>
                <input name="confirm_password" type="password" required
                       class="w-full bg-[#1A1A1A] border border-[#444] rounded-md px-3 py-2
                              focus:border-[var(--brand-orange)] outline-none">
            </div>

            <button type="submit"
                    class="w-full bg-[var(--brand-orange)] text-black font-semibold rounded-md py-2 text-sm">
                Create Account
            </button>
        </form>

        <div class="flex items-center my-4">
            <hr class="flex-grow border-t border-[#444]" />
            <span class="px-2 text-[var(--text-secondary)] text-xs">OR</span>
            <hr class="flex-grow border-t border-[#444]" />
        </div>

        <!-- Strava signup: only from registration page -->
        <a href="{{ url_for('connect_strava_register') }}"
           class="w-full block text-center border border-[var(--brand-orange)] text-[var(--brand-orange)] font-semibold rounded-md py-2 text-sm">
            Continue with Strava
        </a>

        <div class="flex justify-center text-[11px] text-[var(--text-secondary)] mt-4">
            Already have an account?
            <a href="{{ url_for('login') }}" class="ml-1 hover:text-[var(--brand-orange)]">Login</a>
        </div>

    </div>
</div>
{% endblock %}
