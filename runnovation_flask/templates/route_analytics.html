{% extends "base.html" %}
{% block title %}Route Analytics - Runnovation{% endblock %}

{% block content %}
<h1 class="text-xl font-semibold mb-1">Route Analytics</h1>
<p class="text-[11px] text-[var(--text-secondary)] mb-6">
    Strava-Based Route Analysis – Data Source:
    <span class="text-white font-medium">Strava API</span>
</p>

{% if not routes %}
<p class="text-sm text-[var(--text-secondary)]">
    No Strava routes found. Connect your Strava account to import your running data.
</p>
{% else %}
<div class="grid md:grid-cols-2 gap-5">
    {% for route in routes %}
    <div class="bg-[var(--bg-card)] border border-[#333] rounded-2xl p-4 shadow-lg">
        <div class="flex justify-between items-center mb-2">
            <h3 class="text-sm font-semibold text-white">{{ route.name }}</h3>
            <span class="text-[10px] px-2 py-1 rounded-full bg-[#1A1A1A]">
                {{ route.difficulty }}
            </span>
        </div>
        <p class="text-[11px] text-[var(--text-secondary)]">
            Distance: {{ route.distance_km }} km · Elevation: {{ route.elevation_gain }} m
        </p>
        <p class="text-[11px] text-[var(--text-secondary)]">
            Avg Pace: {{ route.avg_pace_min_per_km }} min/km · Popularity: {{ route.popularity }}
        </p>
        <p class="text-[11px] text-[var(--text-secondary)] mb-2">
            Best time: {{ route.best_time }} · Heatmap Intensity: {{ route.heatmap_intensity }}
        </p>

        <a href="{{ url_for('route_details', route_id=route.id) }}"
           class="text-[11px] text-[var(--brand-orange)] underline">
            View Full Route Details
        </a>
    </div>
    {% endfor %}
</div>
{% endif %}
{% endblock %}
