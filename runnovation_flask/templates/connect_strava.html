{% extends "base.html" %}
{% block title %}Connect Strava - Runnovation{% endblock %}

{% block content %}
<div class="min-h-[60vh] flex items-center justify-center">
    <div class="w-full max-w-xl bg-[var(--bg-card)] border border-[#333] rounded-2xl px-8 py-7 shadow-xl">
        <h2 class="text-xl font-semibold mb-2">Connect Strava Account</h2>

        {% if user.strava_connected %}
            <p class="text-sm text-[var(--text-secondary)] mb-4">
                Your Strava account is already <span class="text-emerald-400 font-semibold">connected</span>.
                Runnovation can now use your Strava activities for route and performance analysis.
            </p>
            <p class="text-[11px] text-[var(--text-secondary)] mb-4">
                You can go to <strong>Strava Analytics</strong> or <strong>Route Analytics</strong>
                to view your Strava-based insights.
            </p>

            <a href="{{ url_for('strava_analytics') }}"
               class="inline-block mt-2 px-4 py-2 rounded-md bg-[var(--brand-orange)] text-black text-sm font-semibold">
                Go to Strava Analytics
            </a>
        {% else %}
            <p class="text-sm text-[var(--text-secondary)] mb-4">
                This will link your Strava profile so Runnovation can analyze your running
                activities, routes, and elevation data.
            </p>

            <form method="post" class="space-y-4">
                <button type="submit"
                        class="w-full bg-[var(--brand-orange)] text-black font-semibold rounded-md py-2 text-sm">
                    Connect Strava Account (OAuth Demo)
                </button>
            </form>

            <p class="text-[11px] text-[var(--text-secondary)] mt-4">
                Data Source: <span class="text-white font-medium">Strava API (intended)</span><br>
                In the full implementation, you will be redirected to Strava to authorize
                the connection and sync your activities.
            </p>
        {% endif %}
    </div>
</div>
{% endblock %}
